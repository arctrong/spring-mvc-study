<!DOCTYPE html>
<html>
<head><title>Project setup</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../../favicon.png"/>
<link rel="stylesheet" type="text/css" href="../../layout/styles.css"/>
<link rel="stylesheet" type="text/css" href="../../layout/layout.css"/>
<link rel="stylesheet" type="text/css" href="../../theme.css"/>

<style>
.headerNavArrows {position: relative; top: 3px;}
</style>
</head>
<body>

<div class="header"><b><span style="color:greenyellow;margin-right:7px;">Spring Web</span></b><a 
class="header_item" href="../../../readme.html">About</a><a 
class="header_item" href="../index_page.html">Index</a>

<a href="../../../doc_src/sections/project_setup.txt " class="header_item_source" title="Source text">&lt;/&gt;</a>


<a href="references.html" title="Previous: References"><img class="headerNavArrows" src="../../layout/pict/previous_page_h18px.png"/></a>


<img class="headerNavArrows" src="../../layout/pict/next_page_h18px_inactive.png"/>

<span class="headerTitle">Project setup</span>

</div>

<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td valign="top">
            <div class="sidebar_item"><a href="../../../readme.html">About the course</a></div>
<div class="sidebar_item"><a href="references.html">References</a></div>
<div class="sidebar_item selected"><a href="project_setup.html">Project setup</a></div>
        </td></tr>
        <tr><td class="bottom" valign="bottom">
            Generated by md2html_py 1.0.2
            <br />2023-03-18 15:06:50
        </td></tr>
    </table>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">Project setup</p>

<div class="toc">
<ul>
<li><a href="#materials">Materials</a></li>
<li><a href="#install-and-setup-jetty-server">Install and setup Jetty server</a></li>
<li><a href="#initialize-maven-project">Initialize Maven project</a></li>
</ul>
</div>
<hr />
<h1 id="materials">Materials</h1>
<p>[<a href="references.html#ref_1_2">1.2</a>] ???</p>
<hr />
<h1 id="install-and-setup-jetty-server">Install and setup Jetty server</h1>
<p>Home page: <a href="https://www.eclipse.org/jetty/">https://www.eclipse.org/jetty/</a>  <br />
Downloads: <a href="https://www.eclipse.org/jetty/download.php">https://www.eclipse.org/jetty/download.php</a>  <br />
Checksums: <a href="https://www.eclipse.org/jetty/download_info.php">https://www.eclipse.org/jetty/download_info.php</a></p>
<p>Version 9.4.51.v20230217 is used. Following the instructions <a href="https://www.eclipse.org/jetty/documentation/jetty-9/index.html#quickstart-running-jetty">here</a>:</p>
<ol>
<li>Unzip the distribution pack to the directory by choice, e.g. 
    <code>jetty-distribution-9.4.51.v20230217.zip/jetty-distribution-9.4.51.v20230217</code> to <code>jetty_9_4_51</code>.</li>
<li>Create the <code>JETTY_HOME</code> environment variable that points the <code>jetty_9_4_51</code> directory.</li>
<li>Create the <code>JETTY_BASE</code> environment variable that points the directory where the applications
    will be located.</li>
</ol>
<p>Execute the following commands to initialize the Jetty base directory:</p>
<pre class="highlight"><code class="language-wrapped-shell">&gt;cd /d %JETTY_BASE%

&gt;java -jar %JETTY_HOME%\start.jar --create-startd
MKDIR : ${jetty.base}\start.d
INFO  : Base directory was modified

&gt;java -jar %JETTY_HOME%\start.jar --add-to-start=http,deploy
INFO  : webapp          transitively enabled, ini template available with --add-to-start=webapp
.  .  .
MKDIR : ${jetty.base}\webapps
INFO  : Base directory was modified

&gt;java -jar %JETTY_HOME%\start.jar
2023-03-18 11:36:14.115:INFO::main: Logging initialized @439ms to org.eclipse.jetty.util.log.StdErrLog
.  .  .
2023-03-18 11:36:14.306:INFO:oejs.AbstractConnector:main: Started ServerConnector@cd2dae5{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2023-03-18 11:36:14.306:INFO:oejs.Server:main: Started @630ms</code></pre>
<p>In a browser navigate to <a href="http://localhost:8080/">http://localhost:8080/</a> to see an "Error 404 - Not Found" page. To stop
the server press <code>Ctrl</code>+<code>C</code>.</p>
<p><a name="activate_jetty_jsp_module"></a>
As we are going to use JSP, adding the <code>jsp</code> module, also see the Jetty documentation:</p>
<ul>
<li><a href="https://www.eclipse.org/jetty/documentation/jetty-9/index.html#configuring-jsp">Configuring JSP Support</a></li>
<li><a href="https://www.eclipse.org/jetty/documentation/jetty-9/index.html#startup-modules">Managing Startup Modules</a></li>
</ul>
<pre class="highlight"><code class="language-shell">&gt;java -jar %JETTY_HOME%\start.jar --add-to-start=jsp
INFO  : mail            transitively enabled
INFO  : apache-jsp      transitively enabled
INFO  : jsp             initialized in ${jetty.base}\start.d\jsp.ini
INFO  : jndi            transitively enabled
INFO  : annotations     transitively enabled
INFO  : transactions    transitively enabled
INFO  : plus            transitively enabled
INFO  : Base directory was modified</code></pre>
<hr />
<h1 id="initialize-maven-project">Initialize Maven project</h1>
<pre class="highlight"><code class="language-wrapped-shell">&gt;mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.4 -DgroupId=world.someone -DartifactId=spring-mvc-study -DinteractiveMode=false

&gt;ren spring-mvc-study javaProject</code></pre>
<p>The official documentation
<a href="https://maven.apache.org/archetypes/maven-archetype-webapp/">Maven Webapp Archetype</a> is not pretty
much helpful but the command <code>mvn archetype:help -Dgoal=generate -Ddetail=true</code> may give some more 
clarification.</p>
<p>Also here is the <a href="https://mvnrepository.com/artifact/org.apache.maven.archetypes/maven-archetype-webapp">Maven Webapp Archetype</a>
artifact.</p>
<p>After some reformatting and deletion the POM file looks the following way:</p>
<pre class="highlight"><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
            http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;world.someone&lt;/groupId&gt;
    &lt;artifactId&gt;spring-mvc-study&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

&lt;/project&gt;</code></pre>
<p>This simple setup looks like being enough for running in Jetty server. Just need to execute
the command <code>mvn clean package</code> and copy the file <code>target/spring-mvc-study-1.0-SNAPSHOT.war</code>
into the directory <code>%JETTY_BASE%/webapps</code>. Please make sure that the Jetty <code>jsp</code> is activated 
(see <a href="project_setup.html#activate_jetty_jsp_module">here</a>).</p>
<p>Navigate to <a href="http://localhost:8080/spring-mvc-study-1.0-SNAPSHOT/">http://localhost:8080/spring-mvc-study-1.0-SNAPSHOT/</a> to see the result:</p>
<p><img alt="" src="../../pict/hello_world.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As for now <a href="https://search.maven.org">https://search.maven.org</a> redirects to <a href="https://central.sonatype.com/">https://central.sonatype.com/</a>. 
To avoid this redirection navigate to <a href="https://search.maven.org/?eh=">https://search.maven.org/?eh=</a>.</p>
</div>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="references.html" 
title="Previous: References"><img src="../../layout/pict/previous_page.png"/></a>


<img src="../../layout/pict/next_page_inactive.png"/></p>

<div style="height: 1000px;"><p>&nbsp;</p></div>

</body>
</html>
